(this["webpackJsonpgoncalo-challenge"]=this["webpackJsonpgoncalo-challenge"]||[]).push([[0],{144:function(e,t,a){e.exports=a(276)},149:function(e,t,a){},154:function(e){e.exports=JSON.parse('{"documents":[{"status":"Final","type":"Invoice","number":"2019/11","client_name":"Elon Tusk","date":"2019-02-31","total_w_vat":123.42},{"status":"Draft","type":"Invoice-Receipt","number":"Draft","client_name":"Rick Sanchez","date":"2019-02-01","total_w_vat":13.11},{"status":"Final","type":"Invoice","number":"2019/12","client_name":"Rick Sanchez","date":"2019-02-31","total_w_vat":123.42},{"status":"Final","type":"Invoice","number":"2019/13","client_name":"Jerry Smith","date":"2019-02-31","total_w_vat":123.42},{"status":"Cancelled","type":"Invoice","number":"2019/14","client_name":"Elon Tusk","date":"2019-02-21","total_w_vat":54.01},{"status":"Paid","type":"Invoice-Receipt","number":"2019/15","client_name":"Elon Tusk","date":"2019-03-01","total_w_vat":1223.42},{"status":"Final","type":"Receipt","number":"2019/16","client_name":"Rick Sanchez","date":"2019-03-21","total_w_vat":4234.33},{"status":"Final","type":"Invoice","number":"2019/17","client_name":"Elon Tusk","date":"2019-02-31","total_w_vat":3264.42},{"status":"Paid","type":"Invoice","number":"2019/18","client_name":"Morty Smith","date":"2019-03-31","total_w_vat":1223.42},{"status":"Final","type":"Invoice-Receipt","number":"2019/19","client_name":"Morty Smith","date":"2019-02-31","total_w_vat":3456.42},{"status":"Final","type":"Invoice","number":"2019/20","client_name":"Morty Smith","date":"2019-02-31","total_w_vat":2355.42},{"status":"Cancelled","type":"Invoice-Receipt","number":"2019/21","client_name":"Rick Sanchez","date":"2019-02-31","total_w_vat":23.42},{"status":"Final","type":"Invoice","number":"2019/22","client_name":"Elon Tusk","date":"2019-02-31","total_w_vat":13.42},{"status":"Final","type":"Invoice","number":"2016/23","client_name":"Morty Smith","date":"2016-02-31","total_w_vat":1523.42},{"status":"Final","type":"Invoice","number":"2019/23","client_name":"Jerry Smith","date":"2019-02-31","total_w_vat":6342.42},{"status":"Final","type":"Invoice","number":"2017/11","client_name":"Jerry Smith","date":"2017-02-31","total_w_vat":32.21},{"status":"Final","type":"Invoice","number":"2016/24","client_name":"Morty Smith","date":"2016-02-31","total_w_vat":3255.42},{"status":"Final","type":"Invoice","number":"2019/24","client_name":"Morty Smith","date":"2019-02-31","total_w_vat":734.32},{"status":"Final","type":"Invoice","number":"2019/25","client_name":"Jerry Smith","date":"2019-02-31","total_w_vat":467.42},{"status":"Final","type":"Invoice","number":"2016/25","client_name":"Morty Smith","date":"2016-02-31","total_w_vat":23.12},{"status":"Final","type":"Invoice","number":"2019/26","client_name":"Morty Smith","date":"2019-02-31","total_w_vat":23.42},{"status":"Cancelled","type":"Invoice-Receipt","number":"2016/26","client_name":"Morty Smith","date":"2016-03-10","total_w_vat":3.42}]}')},238:function(e,t){},276:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),i=a.n(r),c=(a(149),a(21)),u=a(22),o=a(24),s=a(23),p=a(25),m=a(45),d=a(36),h=a(15),y={documents:[],filteredDocuments:[],statusFilterValue:"",typeFilterValue:"",numberFilterValue:"",clientNameFilterValue:"",startDateFilterValue:null,endDateFilterValue:null,totalWithoutVatFilterValue:-1},E=Object(d.b)({documents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DOCUMENTS":return Object(h.a)({},e,{documents:t.payload,filteredDocuments:t.payload});case"FILTER_BY_STATUS":return Object(h.a)({},e,{statusFilterValue:t.payload});case"FILTER_BY_TYPE":return Object(h.a)({},e,{typeFilterValue:t.payload});case"FILTER_BY_NUMBER":return Object(h.a)({},e,{numberFilterValue:t.payload});case"FILTER_BY_CLIENT_NAME":return Object(h.a)({},e,{clientNameFilterValue:t.payload});case"FILTER_BY_DATE":return Object(h.a)({},e,{startDateFilterValue:t.payload[0],endDateFilterValue:t.payload[1]});case"FILTER_BY_TOTAL_WITHOUT_VAT":return Object(h.a)({},e,{totalWithoutVatFilterValue:t.payload});case"APPLY_DOCUMENT_FILTERS":var a=e.documents;return""!==e.statusFilterValue&&(a=a.filter((function(t){return t.status===e.statusFilterValue}))),""!==e.typeFilterValue&&(a=a.filter((function(t){return t.type===e.typeFilterValue}))),""!==e.numberFilterValue&&(a=a.filter((function(t){return t.number.includes(e.numberFilterValue)}))),null!==e.startDateFilterValue&&null!==e.endDateFilterValue&&(a=a.filter((function(t){var a=new Date(t.date);return a>=e.startDateFilterValue&&a<=e.endDateFilterValue}))),""!==e.clientNameFilterValue&&(a=a.filter((function(t){return t.client_name.includes(e.clientNameFilterValue)}))),-1!==e.totalWithoutVatFilterValue&&(a=a.filter((function(t){return parseInt(t.total_w_vat)===parseInt(e.totalWithoutVatFilterValue)}))),Object(h.a)({},e,{filteredDocuments:a});default:return e}}}),_=Object(d.d)(E,{},Object(d.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),f=a(286),b=a(287),g=a(288),v=a(280),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",{"data-test":"ListItemData"},this.props.documentStatus),l.a.createElement("td",{"data-test":"ListItemData"},this.props.documentType),l.a.createElement("td",{"data-test":"ListItemData"},this.props.number),l.a.createElement("td",{"data-test":"ListItemData"},this.props.clientName),l.a.createElement("td",{"data-test":"ListItemData"},this.props.date),l.a.createElement("td",{"data-test":"ListItemData"},this.props.totalWithoutVat))}}]),t}(n.Component),D=a(143),O=a(277),T=a(278),C=a(279),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isFilterOpen:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(O.a,{"data-test":"PaginationWrapper"},l.a.createElement(T.a,{disabled:this.props.currentPage<=0,"data-test":"FirstPage"},l.a.createElement(C.a,{first:!0,onClick:function(t){return e.props.handlePageClick(t,0)}})),l.a.createElement(T.a,{disabled:this.props.currentPage<=0,"data-test":"PreviousPage"},l.a.createElement(C.a,{previous:!0,onClick:function(t){return e.props.handlePreviousClick(t)}})),this.props.numberOfPages>0?Object(D.a)(Array(this.props.numberOfPages)).map((function(t,a){return l.a.createElement(T.a,{key:a,active:a===e.props.currentPage,"data-test":"SelectPage"},l.a.createElement(C.a,{onClick:function(t){return e.props.handlePageClick(t,a)},href:"#"},a+1))})):null,l.a.createElement(T.a,{disabled:this.props.currentPage>=this.props.numberOfPages-1,"data-test":"NextPage"},l.a.createElement(C.a,{next:!0,onClick:function(t){return e.props.handleNextClick(t)}})),l.a.createElement(T.a,{disabled:this.props.currentPage>=this.props.numberOfPages-1,"data-test":"LastPage"},l.a.createElement(C.a,{last:!0,onClick:function(t){return e.props.handlePageClick(t,e.props.numberOfPages-1)}})))}}]),t}(n.Component),S=a(154),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={documentsLoaded:!1,pagination:{sliceStep:7,sliceStart:0,sliceEnd:7,numberOfPages:0,currentPage:0}},a.handlePageClick=function(e,t){a.setState((function(e){return{pagination:Object(h.a)({},e.pagination,{currentPage:t,sliceStart:t*e.pagination.sliceStep,sliceEnd:(t+1)*e.pagination.sliceStep})}}))},a.handlePreviousClick=function(e){a.setState((function(e){return{pagination:Object(h.a)({},e.pagination,{currentPage:e.pagination.currentPage-1,sliceStart:(e.pagination.currentPage-1)*e.pagination.sliceStep,sliceEnd:e.pagination.currentPage*e.pagination.sliceStep})}}))},a.handleNextClick=function(e){a.setState((function(e){return{pagination:Object(h.a)({},e.pagination,{currentPage:e.pagination.currentPage+1,sliceStart:(e.pagination.currentPage+1)*e.pagination.sliceStep,sliceEnd:(e.pagination.currentPage+2)*e.pagination.sliceStep})}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.documentsLoaded||(this.props.getDocuments(),this.setState({documentsLoaded:!0}))}},{key:"componentDidUpdate",value:function(){var e=Math.ceil(this.props.documents.filteredDocuments.length/7);e!==this.state.pagination.numberOfPages&&this.setState((function(t){return{pagination:Object(h.a)({},t.pagination,{numberOfPages:e})}}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(v.a,{striped:!0,responsive:!0,bordered:!0,"data-test":"DocumentTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Document status"),l.a.createElement("th",null,"Document type"),l.a.createElement("th",null,"Number"),l.a.createElement("th",null,"Client name"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Total without VAT"))),l.a.createElement("tbody",null,this.props.documents.filteredDocuments.slice(this.state.pagination.sliceStart,this.state.pagination.sliceEnd).map((function(e,t){var a=e.status,n=e.type,r=e.number,i=e.client_name,c=e.date,u=e.total_w_vat;return l.a.createElement(F,{key:t,documentStatus:a,documentType:n,number:r,clientName:i,date:c,totalWithoutVat:u})})))),l.a.createElement(g.a,{isOpen:0!==this.state.pagination.numberOfPages,"data-test":"PaginationCollapse"},l.a.createElement(I,{numberOfPages:this.state.pagination.numberOfPages,currentPage:this.state.pagination.currentPage,handlePageClick:this.handlePageClick,handlePreviousClick:this.handlePreviousClick,handleNextClick:this.handleNextClick})))}}]),t}(n.Component),j=Object(m.b)((function(e){return{documents:e.documents}}),{getDocuments:function(){return{type:"GET_DOCUMENTS",payload:S.documents}}})(P),V=a(281),k=a(282),w=a(283),L=a(284),N=a(142),R=a(285),B=a(141),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).uuidv4=a(227),n.state={documentStatus:["","Draft","Final","Paid","Cancelled"],documentType:["","Invoice","Invoice-Receipt","Receipt"],startDate:null,endDate:null,focusedInput:null},n.handleStatusChange=function(e){n.props.filterByStatus(e.target.value),n.props.applyDocumentFilters()},n.handleTypeChange=function(e){n.props.filterByType(e.target.value),n.props.applyDocumentFilters()},n.handleNumberChange=function(e){n.props.filterByNumber(e.target.value),n.props.applyDocumentFilters()},n.handleClientNameChange=function(e){n.props.filterByClientName(e.target.value),n.props.applyDocumentFilters()},n.handleTotalWithoutVatChange=function(e){""===e.target.value?n.props.filterByTotalWithoutVat(-1):n.props.filterByTotalWithoutVat(e.target.value),n.props.applyDocumentFilters()},n.onDatesChange=function(e){var t=e.startDate,a=e.endDate;n.setState({startDate:t,endDate:a}),t&&a&&t.isValid()&&a.isValid()&&(n.props.filterByDate(t,a),n.props.applyDocumentFilters())},n.resetDates=function(){n.setState({startDate:null,endDate:null}),n.props.filterByDate(null,null),n.props.applyDocumentFilters()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(V.a,{"data-test":"DocListFilterWrapper"},l.a.createElement(k.a,null,l.a.createElement(w.a,{className:"Status Filter","data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Document Status")),l.a.createElement(R.a,{type:"select",name:"status",onChange:this.handleStatusChange},this.state.documentStatus.map((function(e){return l.a.createElement("option",{key:"status"+e},e)}))))),l.a.createElement("br",null),l.a.createElement(k.a,null,l.a.createElement(w.a,{className:"Type Filter","data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Document Type")),l.a.createElement(R.a,{type:"select",name:"type",onChange:this.handleTypeChange},this.state.documentType.map((function(e){return l.a.createElement("option",{key:"type"+e},e)}))))),l.a.createElement("br",null),l.a.createElement(k.a,null,l.a.createElement(w.a,{className:"Number Filter","data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Document Number")),l.a.createElement(R.a,{placeholder:"Ex: 2018/11",onChange:this.handleNumberChange})))),l.a.createElement("br",null),l.a.createElement(V.a,null,l.a.createElement(k.a,null,l.a.createElement(w.a,{"data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Client Name")),l.a.createElement(R.a,{placeholder:"Ant\xf3nio Fernandes",onChange:this.handleClientNameChange}))),l.a.createElement("br",null),l.a.createElement(k.a,null,l.a.createElement(w.a,{"data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Total without VAT")),l.a.createElement(R.a,{placeholder:"Amount",min:0,type:"number",onChange:this.handleTotalWithoutVatChange})))),l.a.createElement("br",null),l.a.createElement(V.a,null,l.a.createElement(k.a,null,l.a.createElement(w.a,{"data-test":"DocListFilterInputGroup"},l.a.createElement(L.a,{addonType:"prepend"},l.a.createElement(N.a,null,"Date")),l.a.createElement(B.DateRangePicker,{startDate:this.state.startDate,startDateId:this.uuidv4(),endDate:this.state.endDate,endDateId:this.uuidv4(),focusedInput:this.state.focusedInput,onDatesChange:this.onDatesChange,onFocusChange:function(t){return e.setState({focusedInput:t})},displayFormat:"YYYY/MM/DD",isOutsideRange:function(){return!1}}),l.a.createElement(L.a,{addonType:"append"},l.a.createElement(N.a,{onClick:function(){return e.resetDates()}},"X"))),l.a.createElement("br",null))))}}]),t}(n.Component),M=Object(m.b)(null,{filterByStatus:function(e){return{type:"FILTER_BY_STATUS",payload:e}},filterByType:function(e){return{type:"FILTER_BY_TYPE",payload:e}},filterByClientName:function(e){return{type:"FILTER_BY_CLIENT_NAME",payload:e}},filterByTotalWithoutVat:function(e){return{type:"FILTER_BY_TOTAL_WITHOUT_VAT",payload:e}},filterByNumber:function(e){return{type:"FILTER_BY_NUMBER",payload:e}},filterByDate:function(e,t){return{type:"FILTER_BY_DATE",payload:[e,t]}},applyDocumentFilters:function(){return{type:"APPLY_DOCUMENT_FILTERS"}}})(A),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isFilterOpen:!1},a.toggle=function(){a.setState({isFilterOpen:!a.state.isFilterOpen})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(f.a,{style:{marginTop:"2rem"},"data-test":"DocContainerComponent"},l.a.createElement(b.a,{color:"primary",onClick:this.toggle,block:!0,"data-test":"ShowFilterButton"}," Show Filter "),l.a.createElement("br",null),l.a.createElement(g.a,{"data-test":"CollapseFilter",isOpen:this.state.isFilterOpen},l.a.createElement("br",null),l.a.createElement("div",{"data-test":"DocumentListFilterWrapper"},l.a.createElement(M,null))),l.a.createElement("div",{"data-test":"DocumentList"},l.a.createElement(j,null)))}}]),t}(n.Component),W=(a(230),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,{store:_},l.a.createElement(Y,null))}}]),t}(n.Component));a(231),a(275);i.a.render(l.a.createElement(W,null),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.6ee8202c.chunk.js.map